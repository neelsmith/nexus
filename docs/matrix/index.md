---
layout: page
title: The NexusMatrix
---


`CHARACTER` and `DATA` blocks can include a `Matrix` command, and while you could get the text contents of the command's label and data arguments using generic methods, the `NexusData` set also offers higher-order methods.





## The hard way

Using generic methods to extract the contents of a `Matrix`:

- get the "CHARACTERS" block
- select the "Matrix" command
- get the command's arguments

Too much work, and you're still left with a string to parse out labels and data!


```scala
commands.map(cmd => cmd.argsString).head
// res0: String = """240C                      ??????????????????????????????????????????????????
// 	257C                      ??????????????????????????????????????????????????
// 	259C                      ??????????????????????????????????????????????????
// 	264C                      ??????????????????????????????????????????????????
// 	265C                      TCATTTTTTGACCCCGCTGGAGGAGGGGACCCAATTCTTTACCAACATCT
// 	280C                      ??????????????????????????????????????????????????
// 	285C                      ??????????????????????????????????????????CAACATTT
// 	287C                      ??????????????????????????????????????????????????
// 	288C                      ??????????????????????????????????????????CAACATTT
// 	289C                      ??????????????????????????????????????????????????
// 	293C                      ??????????????????????????????????????????????????
// 	295C                      ??????????????????????????????????????????????????
// 	296C                      ??????????????????????????????????????????????????
// 	297C                      ??????????????????????????????????????????????????
// 	298C                      ??????????????????????????????????????????????????
// 	299C                      ??????????????????????????????????????????????????
// 	300C                      ??????????????????????????????????????????????????
// 	304C                      ??????????????????????????????????????????????????
// 	305C                      ??????????????????????????????????????????????????
// 	310C                      ??????????????????????????????????????????????????
// 	313C                      ??????????????????????????????????????????????????
// 	314C                      ??????????????????????????????????????????????????
// 	316C                      ??????????????????????????????????????????????????
// 	318C                      ??????????????????????????????????????????????????
// 	322C                      ??????????????????????????????????????????????????
// 	326C                      ??????????????????????????????????????????????????
// 	332C                      ??????????????????????????????????????????????????
// 	341C                      ??????????????????????????????????????????????????
// 	343C                      TCATTTTTTGATCCTGCAGGAGGGGGAGACCCAATTCTTTACCAACATTT
// 	344C                      TCATTTTTTGACCCTGCAGGAGGGGGAGACCCAATTCTTTACCAACATTT
// 	350C                      ??????????????????????????????????????????????????
// 	354C                      ????????????????????????????????????????????????TT
// 	361C                      ??????????????????????????????????????????????????
// 	365C                      ??????????????????????????????????????????????????
// 	367C                      ??????????????????????????????????????????????????
// 	369C                      TCATTTTTTGACCCGGCTGGAGGGGGKGACCCTATTCTCTATCAACATTT
// 	370C                      TCATTTTTTGACCCTGCCGGAGGAGGGGACCCAATTCTTTATCAACATTT
// 	372C                      TCATTTTTTGATCCAGCTGGAGGAGGTGATCCTATTCTTTACCAACACTT
// 	374C                      ??????????????????????????????????????????????????
// 	377C                      ??????????????????????????????????????????????????
// 	385C                      TCATTTTTTGACCCTGCAGGTGGAGGGGACCCAATTCTTTACCAACATTT
// 	404C                      ??????????????????????????????????????????????????
// 	405C                      ?????????????????????????????????????????TCAACATTT
// 	407C                      ??????????????????????????????????????????CAACATTT
// 	409C                      TCATTTTTTGACCCTGCAGGAGGAGGGGATCCTATTCTTTACCAACATTT
// 	410C                      TCATTTTTTGACCCTGCTGGAGGGGGTGACCCTATTCTTTATCAACATTT
// 	411C                      ??????????????????????????????????????????????????
// 	412C                      TCATTTTTTGATCCTGCAGGAGGAGGGGATCCAATTCTTTACCAACATTT
// 	415C                      TCATTTTTTGACCCTGCTGGAGGGGGTGATCCTATTCTTTATCAACATTT
// ...
```


## The easy way

The better choice is the `matrix` method:

```scala
nexus.matrix
```

This creates a `NexusMatrix` object, which has a Vector of `NexusCharacters`, called `rows`.

```scala
nexus.matrix.rows.size
// res2: Int = 3024
```

The `NexusMatrix` also gives us access to the labels and data for each row.  Let's sample a few:

```scala
nexus.matrix.labels.take(10)
// res3: Vector[String] = Vector(
//   "240C",
//   "257C",
//   "259C",
//   "264C",
//   "265C",
//   "280C",
//   "285C",
//   "287C",
//   "288C",
//   "289C"
// )
nexus.matrix.data.take(10)
// res4: Vector[String] = Vector(
//   "??????????????????????????????????????????????????",
//   "??????????????????????????????????????????????????",
//   "??????????????????????????????????????????????????",
//   "??????????????????????????????????????????????????",
//   "TCATTTTTTGACCCCGCTGGAGGAGGGGACCCAATTCTTTACCAACATCT",
//   "??????????????????????????????????????????????????",
//   "??????????????????????????????????????????CAACATTT",
//   "??????????????????????????????????????????????????",
//   "??????????????????????????????????????????CAACATTT",
//   "??????????????????????????????????????????????????"
// )
```

If you want to combine labels and data in a text string with a separating String of your choice, you can use the `delimited` method

```scala
nexus.matrix.delimited("#")
// res5: String = """240C#??????????????????????????????????????????????????
// 257C#??????????????????????????????????????????????????
// 259C#??????????????????????????????????????????????????
// 264C#??????????????????????????????????????????????????
// 265C#TCATTTTTTGACCCCGCTGGAGGAGGGGACCCAATTCTTTACCAACATCT
// 280C#??????????????????????????????????????????????????
// 285C#??????????????????????????????????????????CAACATTT
// 287C#??????????????????????????????????????????????????
// 288C#??????????????????????????????????????????CAACATTT
// 289C#??????????????????????????????????????????????????
// 293C#??????????????????????????????????????????????????
// 295C#??????????????????????????????????????????????????
// 296C#??????????????????????????????????????????????????
// 297C#??????????????????????????????????????????????????
// 298C#??????????????????????????????????????????????????
// 299C#??????????????????????????????????????????????????
// 300C#??????????????????????????????????????????????????
// 304C#??????????????????????????????????????????????????
// 305C#??????????????????????????????????????????????????
// 310C#??????????????????????????????????????????????????
// 313C#??????????????????????????????????????????????????
// 314C#??????????????????????????????????????????????????
// 316C#??????????????????????????????????????????????????
// 318C#??????????????????????????????????????????????????
// 322C#??????????????????????????????????????????????????
// 326C#??????????????????????????????????????????????????
// 332C#??????????????????????????????????????????????????
// 341C#??????????????????????????????????????????????????
// 343C#TCATTTTTTGATCCTGCAGGAGGGGGAGACCCAATTCTTTACCAACATTT
// 344C#TCATTTTTTGACCCTGCAGGAGGGGGAGACCCAATTCTTTACCAACATTT
// 350C#??????????????????????????????????????????????????
// 354C#????????????????????????????????????????????????TT
// 361C#??????????????????????????????????????????????????
// 365C#??????????????????????????????????????????????????
// 367C#??????????????????????????????????????????????????
// 369C#TCATTTTTTGACCCGGCTGGAGGGGGKGACCCTATTCTCTATCAACATTT
// 370C#TCATTTTTTGACCCTGCCGGAGGAGGGGACCCAATTCTTTATCAACATTT
// 372C#TCATTTTTTGATCCAGCTGGAGGAGGTGATCCTATTCTTTACCAACACTT
// 374C#??????????????????????????????????????????????????
// 377C#??????????????????????????????????????????????????
// 385C#TCATTTTTTGACCCTGCAGGTGGAGGGGACCCAATTCTTTACCAACATTT
// 404C#??????????????????????????????????????????????????
// 405C#?????????????????????????????????????????TCAACATTT
// 407C#??????????????????????????????????????????CAACATTT
// 409C#TCATTTTTTGACCCTGCAGGAGGAGGGGATCCTATTCTTTACCAACATTT
// 410C#TCATTTTTTGACCCTGCTGGAGGGGGTGACCCTATTCTTTATCAACATTT
// 411C#??????????????????????????????????????????????????
// 412C#TCATTTTTTGATCCTGCAGGAGGAGGGGATCCAATTCTTTACCAACATTT
// 415C#TCATTTTTTGACCCTGCTGGAGGGGGTGATCCTATTCTTTATCAACATTT
// ...
```
